<!DOCTYPE html>
<html lang="zn">
<head>
<!--    <meta charset="UTF-8">-->
    <meta http-equiv="Content-Type" content="text/html; charset=gb2312" />
    <title>登录页面</title>
    <script type="text/javascript" src="../jquery/jquery-3.2.1.js"></script>
    <script type="text/javascript">
        $(document).ready(function(){

            $("#submitId").click(function(){
                alert("before alert()");
                submit();
            });
        });

        function submit() {
            alert("submit();1");
            var userName = $("#userNameId").val();
            alert("submit();2");
            var password = $("#passwordId").val();
            var role = $("#roleId").val();

            if(userName == null || userName.length == 0){
                alert("请输入用户名");
                return;
            }
            if(password == null || password.length == 0){
                alert("请输入密码");
                return;
            }
            if(role == null){
                alert("请输入角色");
                return;
            }

            $.ajax({
                type: "POST",
                url: "http://localhost:8080/springMVC_170915_2_tomcat/a.login",
                data: {
                    userName:userName,
                    password:password,
                    role:role
                },
                dataType: "json",
                contentType: "application/x-www-form-urlencoded;charset=utf-8",
                async: false,
                success: function (result) {
                    if(result != null && result.data != null){
                        alert(result.data);
                    }
                }
            });

        }

    </script>
</head>
<body>
<div align="center">
    用户名：<input type="text" name="userName" id="userNameId" maxlength="10" align="left">
    <br/>
    密码：<input type="password" name="password" id="passwordId" maxlength="10" align="left">
    <br/>
    角色：<input type="number" name="password" id="roleId" max="4" min="0" align="left">
    <br/>
    <input type="button" id="submitId" value="submit" align="center">
</div>
</body>
</html>



